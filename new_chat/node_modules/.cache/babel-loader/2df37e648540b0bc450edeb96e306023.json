{"remainingRequest":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/thread-loader/dist/cjs.js!/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/src/components/chat_componenet/Room.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/src/components/chat_componenet/Room.vue","mtime":1606200747849},{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/esther_lin/work06/cli/new_chat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgZ2xvYmFsIGZyb20gJy4uL2dsb3ZhbF92YXInOyAvLyBpbXBvcnQgbWVtYmVyX2NvbXBvIGZyb20gJy4vTWVtYmVyJwovLyDmm7/mj5vlj4PmlbgKCmZ1bmN0aW9uIHJlcGxhY2VRdWVyeVBhcmFtKHBhcmFtLCBuZXd2YWwsIHNlYXJjaCkgewogIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJyhbPzsmXSknICsgcGFyYW0gKyAnW14mO10qWzsmXT8nKTsKICB2YXIgcXVlcnkgPSBzZWFyY2gucmVwbGFjZShyZWdleCwgJyQxJykucmVwbGFjZSgvJiQvLCAnJyk7CiAgcmV0dXJuIChxdWVyeS5sZW5ndGggPiAyID8gcXVlcnkgKyAnJicgOiAnPycpICsgKG5ld3ZhbCA/IHBhcmFtICsgJz0nICsgbmV3dmFsIDogJycpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Jvb20nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb29tczogZ2xvYmFsLlJPT01TLAogICAgICB0aXRsZTogZ2xvYmFsLkNIQVRST09NLAogICAgICBzZWVuX2xlYXZlOiB0cnVlLAogICAgICBzZWVuX2RlbDogdHJ1ZSwKICAgICAgaXNfcHJpdmF0ZTogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy/liKTmlrfmmK/lkKbngrrlpKflu7Plkoznp4HogYoKICAgIGlmIChnbG9iYWwuUFJJVkFUSU9OID09ICJ0cnVlIiB8fCBnbG9iYWwuQ0hBVFJPT00gPT0gIm1haW4iKSB7CiAgICAgIGlmIChnbG9iYWwuUFJJVkFUSU9OID09ICJ0cnVlIikgewogICAgICAgIC8vIOiqv+aVtOaomemhjAogICAgICAgIHRoaXMuaXNfcHJpdmF0ZSA9ICI8cCBzdHlsZT0nZm9udC1zaXplOjEycHQ7IGNvbG9yOiMwMDc5OEYnPuengeiBijwvcD4iOwogICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLnRpdGxlLnJlcGxhY2UoZ2xvYmFsLlVTRVIsICcnKS5yZXBsYWNlKCctJywgJycpOyAvLyDnm7TmjqXpoa/npLrmiYDmnInkvb/nlKjogIXogIzpnZ7lnKjnt5rliJfooagKICAgICAgICAvLyBtZW1iZXJfY29tcG8uJGRhdGEuc2VlbiA9IGZhbHNlCiAgICAgICAgLy8g5Y+W5Ye65pS26Kmx5Lq6CgogICAgICAgIHZhciBtZW1iZXJzID0gZ2xvYmFsLkNIQVRST09NLnNwbGl0KCItIik7CgogICAgICAgIGlmIChtZW1iZXJzWzBdID09IGdsb2JhbC5VU0VSKSB7CiAgICAgICAgICBnbG9iYWwuUkVDSVBJRU5UID0gbWVtYmVyc1sxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZ2xvYmFsLlJFQ0lQSUVOVCA9IG1lbWJlcnNbMF07CiAgICAgICAgfQogICAgICB9IC8vIOmaseiXj+WIqumZpOiIh+mboumWi+aMiemIlQoKCiAgICAgIHRoaXMuc2Vlbl9sZWF2ZSA9IGZhbHNlOwogICAgICB0aGlzLnNlZW5fZGVsID0gZmFsc2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnb1RvUm9vbTogZnVuY3Rpb24gZ29Ub1Jvb20ocm9vbV9pZCkgewogICAgICB2YXIgc2VhcmNoID0gcmVwbGFjZVF1ZXJ5UGFyYW0oJ3ByaXZhdGUnLCAnZmFsc2UnLCBsb2NhdGlvbi5zZWFyY2gpOwogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGdsb2JhbC5IT1NUICsgJy9jaGF0LycgKyByb29tX2lkICsgc2VhcmNoOwogICAgfSwKICAgIGluUm9vbTogZnVuY3Rpb24gaW5Sb29tKHJvb20pIHsKICAgICAgcmV0dXJuIHJvb20gPT09IGdsb2JhbC5DSEFUUk9PTSA/IGluUm9vbVN5bWIgOiAnJzsKICAgIH0sCiAgICBEZWxldGVSb29tOiBmdW5jdGlvbiBEZWxldGVSb29tKCkgewogICAgICBzd2FsRGVsUm9vbSh0aGlzLnRpdGxlKTsKICAgIH0sCiAgICBMZWF2ZVJvb206IGZ1bmN0aW9uIExlYXZlUm9vbSgpIHsKICAgICAgbGVhdmVSb29tKHRoaXMudGl0bGUpOwogICAgfSwKICAgIE5ld1Jvb206IGZ1bmN0aW9uIE5ld1Jvb20oKSB7CiAgICAgIFZ1ZS5zd2FsKHsKICAgICAgICB0aXRsZTogJ+W7uueriy/liY3lvoAg6IGK5aSp5a6kJywKICAgICAgICB0ZXh0OiAn6IGK5aSp5a6kaWQ6JywKICAgICAgICBpbnB1dDogJ3RleHQnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGlucHV0VmFsdWUpIHsKICAgICAgICBpZiAoaW5wdXRWYWx1ZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBpZiAoaW5wdXRWYWx1ZSA9PT0gJycpIHsKICAgICAgICAgIFZ1ZS5zd2FsKCflk47lkabigKbigKYnLCAn6KuL6Ly45YWl6IGK5aSp5a6kaWQnLCAnZXJyb3InKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChpbnB1dFZhbHVlLmxlbmd0aCA+IDMwKSB7CiAgICAgICAgICBWdWUuc3dhbCgn5aSq4oCm6ZW34oCm4oCm5ZWmJywgJ+iBiuWkqeWupGlk54K6MzDlrZflhYPlhacnLCAnd2FybmluZycpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgVnVlLmF4aW9zKHsKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgdXJsOiBnbG9iYWwuQVBJICsgJy9ub3JtYWxyb29tJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgJ3VzZXInOiBnbG9iYWwuVVNFUiwKICAgICAgICAgICAgJ3Jvb21OYW1lJzogaW5wdXRWYWx1ZS52YWx1ZSwKICAgICAgICAgICAgJ3dpdGgnOiAnJwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMucmVxdWVzdC5yZXNwb25zZVVSTDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5heGlvcy5nZXQoZ2xvYmFsLkFQSSArICcvcm9vbWxpc3QnICsgbG9jYXRpb24uc2VhcmNoKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBsaXN0ID0gZS5kYXRhLnJvb21zLnNwbGl0KCcsJyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgdG1wID0gewogICAgICAgICAgJ2lkJzogaSwKICAgICAgICAgICdyb29tX2lkJzogbGlzdFtpXSwKICAgICAgICAgICdsZW4nOiAwCiAgICAgICAgfTsKICAgICAgICBnbG9iYWwuUk9PTVMucHVzaCh0bXApOwogICAgICB9CiAgICB9KTsKICB9Cn07CnZhciBpblJvb21TeW1iID0gIjxpIGNsYXNzPVwiZmFzIGZhLWZpc2hcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDowLjVlbTtjb2xvcjojMDA3OThGXCI+PC9pPiI7IC8vIOWIqumZpOaIv+mWk+S4reS7i+m7ngoKZnVuY3Rpb24gc3dhbERlbFJvb20ocm9vbV9pZCkgewogIFZ1ZS5zd2FsKHsKICAgIHRpdGxlOiAn5Yiq6Zmk6Kmy6IGK5aSp5a6k77yfJywKICAgIHRleHQ6ICfoqbLogYrlpKnlrqTos4fmlpnoiIfogYrlpKnoqJjpjITmnIPlhajpg6jmtojlpLEnLAogICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56K65a6aJywKICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgIGRlbFJvb20ocm9vbV9pZCk7CiAgICB9CiAgfSk7Cn0gLy8g5Yiq6Zmk5oi/6ZaT77yI6LOH5paZ5bqr77yJCgoKZnVuY3Rpb24gZGVsUm9vbShpZCkgewogIFZ1ZS5heGlvcy5nZXQoZ2xvYmFsLkFQSSArICcvZGVsZXRlLycgKyBpZCArICc/dXNlcj0nICsgZ2xvYmFsLlVTRVIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgVnVlLnN3YWwoJ+aIkOWKn+WIqumZpCcsIGlkICsgJ+iBiuWkqeWupOWQq+a3mui3n+S9oOiqquWGjeimiycsICdzdWNjZXNzJyk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gcmVzLnJlcXVlc3QucmVzcG9uc2VVUkw7CiAgICB9LCAxNTAwKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICBWdWUuc3dhbChlcnIgKyAn5Ye66Yyv5LqG77yB5Yiq6Zmk5aSx5pWX77yBJywgaWQgKyAn6IGK5aSp5a6k6Zmw6a2C5LiN5pWj772eJywgJ2Vycm9yJyk7CiAgfSk7Cn0gLy8g6Zui6ZaL5oi/6ZaT77yI5Yiq6Zmk5oi/6ZaT6IiH6Ieq5bex55qE6Zec6IGv77y/6LOH5paZ5bqr77yJCgoKZnVuY3Rpb24gbGVhdmVSb29tKGlkKSB7CiAgVnVlLmF4aW9zKHsKICAgIG1ldGhvZDogJ2dldCcsCiAgICB1cmw6IGdsb2JhbC5BUEkgKyAnL2xlYXZlLycgKyBpZCArICc/dXNlcj0nICsgZ2xvYmFsLlVTRVIKICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIFZ1ZS5zd2FsKCfmgqjlt7LpgIDlh7rogYrlpKnlrqQnLCBpZCArICfoo6HnmoTmnIvlj4vlgJHmnIPmg7Plv7XkvaDnmoQnLCAnc3VjY2VzcycpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzLnJlcXVlc3QucmVzcG9uc2VVUkw7CiAgICB9LCAxNTAwKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICBWdWUuc3dhbCgn5Ye66Yyv5LqG77yBJywgaWQgKyAn6IGK5aSp5a6k5LiN5oOz6IiH5L2g5YiG6ZaL772eJywgJ2Vycm9yJyk7CiAgfSk7Cn0="},{"version":3,"sources":["Room.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,MAAA,MAAA,eAAA,C,CACA;AAEA;;AACA,SAAA,iBAAA,CAAA,KAAA,EAAA,MAAA,EAAA,MAAA,EAAA;AACA,MAAA,KAAA,GAAA,IAAA,MAAA,CAAA,YAAA,KAAA,GAAA,aAAA,CAAA;AACA,MAAA,KAAA,GAAA,MAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,EAAA,OAAA,CAAA,IAAA,EAAA,EAAA,CAAA;AAEA,SAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,KAAA,MAAA,GAAA,KAAA,GAAA,GAAA,GAAA,MAAA,GAAA,EAAA,CAAA;AACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,MAAA,CAAA,KADA;AAEA,MAAA,KAAA,EAAA,MAAA,CAAA,QAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,IAAA,MAAA,IAAA,MAAA,CAAA,QAAA,IAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,IAAA,MAAA,EAAA;AACA;AACA,aAAA,UAAA,GAAA,iDAAA;AACA,aAAA,KAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA,EAAA,EAAA,OAAA,CAAA,GAAA,EAAA,EAAA,CAAA,CAHA,CAKA;AACA;AAEA;;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,YAAA,OAAA,CAAA,CAAA,CAAA,IAAA,MAAA,CAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,OAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAGA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,OAAA,CAAA,CAAA,CAAA;AACA;AACA,OAjBA,CAkBA;;;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA;AACA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,OADA,EACA;AACA,UAAA,MAAA,GAAA,iBAAA,CAAA,SAAA,EAAA,OAAA,EAAA,QAAA,CAAA,MAAA,CAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,MAAA,CAAA,IAAA,GAAA,QAAA,GAAA,OAAA,GAAA,MAAA;AACA,KAJA;AAKA,IAAA,MALA,kBAKA,IALA,EAKA;AACA,aAAA,IAAA,KAAA,MAAA,CAAA,QAAA,GAAA,UAAA,GAAA,EAAA;AACA,KAPA;AAQA,IAAA,UAAA,EAAA,sBAAA;AACA,MAAA,WAAA,CAAA,KAAA,KAAA,CAAA;AACA,KAVA;AAWA,IAAA,SAAA,EAAA,qBAAA;AACA,MAAA,SAAA,CAAA,KAAA,KAAA,CAAA;AACA,KAbA;AAcA,IAAA,OAAA,EAAA,mBAAA;AACA,MAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,WADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,UAAA,EAAA;AACA,YAAA,UAAA,KAAA,IAAA,EAAA,OAAA,KAAA;;AACA,YAAA,UAAA,KAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA,UAAA,EAAA,OAAA;AACA,iBAAA,KAAA;AACA;;AACA,YAAA,UAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,QAAA,EAAA,aAAA,EAAA,SAAA;AACA,iBAAA,KAAA;AACA;;AAEA,QAAA,GAAA,CAAA,KAAA,CAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,GAAA,EAAA,MAAA,CAAA,GAAA,GAAA,aAFA;AAGA,UAAA,IAAA,EAAA;AACA,oBAAA,MAAA,CAAA,IADA;AAEA,wBAAA,UAAA,CAAA,KAFA;AAGA,oBAAA;AAHA;AAHA,SAAA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AACA,SAVA;AAWA,OA1BA;AA2BA;AA1CA,GApCA;AAgFA,EAAA,OAhFA,qBAgFA;AACA,SAAA,KAAA,CACA,GADA,CACA,MAAA,CAAA,GAAA,GAAA,WAAA,GAAA,QAAA,CAAA,MADA,EAEA,IAFA,CAEA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA;AAAA,gBAAA,CAAA;AAAA,qBAAA,IAAA,CAAA,CAAA,CAAA;AAAA,iBAAA;AAAA,SAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,KARA;AASA;AA1FA,CAAA;AA6FA,IAAA,UAAA,6EAAA,C,CACA;;AACA,SAAA,WAAA,CAAA,OAAA,EAAA;AACA,EAAA,GAAA,CAAA,IAAA,CAAA;AACA,IAAA,KAAA,EAAA,SADA;AAEA,IAAA,IAAA,EAAA,kBAFA;AAGA,IAAA,gBAAA,EAAA,IAHA;AAIA,IAAA,iBAAA,EAAA,IAJA;AAKA,IAAA,gBAAA,EAAA;AALA,GAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,EAAA;AACA,MAAA,OAAA,CAAA,OAAA,CAAA;AACA;AACA,GAVA;AAWA,C,CAEA;;;AACA,SAAA,OAAA,CAAA,EAAA,EAAA;AACA,EAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,GAAA,GAAA,UAAA,GAAA,EAAA,GAAA,QAAA,GAAA,MAAA,CAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA,EAAA,GAAA,YAAA,EAAA,SAAA;AACA,IAAA,UAAA,CAAA,YAAA;AAAA,MAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AAAA,KAAA,EAAA,IAAA,CAAA;AACA,GAJA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,GAAA,GAAA,WAAA,EAAA,EAAA,GAAA,UAAA,EAAA,OAAA;AACA,GANA;AAOA,C,CAEA;;;AACA,SAAA,SAAA,CAAA,EAAA,EAAA;AACA,EAAA,GAAA,CAAA,KAAA,CAAA;AACA,IAAA,MAAA,EAAA,KADA;AAEA,IAAA,GAAA,EAAA,MAAA,CAAA,GAAA,GAAA,SAAA,GAAA,EAAA,GAAA,QAAA,GAAA,MAAA,CAAA;AAFA,GAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,SAAA,EAAA,EAAA,GAAA,YAAA,EAAA,SAAA;AACA,IAAA,UAAA,CAAA,YAAA;AAAA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AAAA,KAAA,EAAA,IAAA,CAAA;AACA,GANA,EAMA,KANA,CAMA,YAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA,EAAA,GAAA,YAAA,EAAA,OAAA;AACA,GARA;AASA","sourcesContent":["<template>\n    <div>\n        <div id=\"room\">\n        <div id=\"room-title\">\n            <div class=\"room-title\">\n                <!-- 聊天室名稱 -->\n                <h1 class=\"title-text div-ell\"><span v-html=\"is_private\"></span>{{ title }}</h1>\n                <div v-if=\"title !== 'main'\">\n                  <!-- 刪除聊天室按鈕 -->\n                  <button class=\"exit-btn\" v-show=\"seen_del\" @click=\"DeleteRoom\">刪除房間</button>\n                  <!-- 離開聊天室按鈕 -->\n                  <button class=\"exit-btn\" v-show=\"seen_leave\" @click=\"LeaveRoom\">退出房間</button>\n                </div>\n            </div>\n            <h5 class=\"title-text\">聊天室列表\n                <button @click=\"NewRoom\" class=\"new-room-btn\">\n                    <svg viewBox=\"0 0 16 16\" fill=\"#00798F\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path fill-rule=\"evenodd\"\n                            d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z\" />\n                    </svg>\n                </button>\n            </h5>\n        </div>\n\n        <div id=\"rooms\">\n            <!-- 聊天室列表 -->\n            <div id=\"roomList\">\n                <button @click=\"goToRoom('main')\" class=\"mh20 room-box-text room-btn\" value=\"main\">大廳</button>\n                <dl>\n                    <!-- 大廳除外的聊天室列表 -->\n                    <dt v-for=\"(room, index) in rooms\" :room=\"room\" :key=\"index\">\n                      <button @click=\"goToRoom(room.room_id)\" class=\"mh20 room-box-text room-btn\">\n                        <span v-html=\"inRoom(room.room_id)\"></span>\n                        {{ room.room_id }} ({{ room.len }})\n                      </button>\n                    </dt>\n                </dl>\n            </div>\n        </div>\n    </div>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport global from '../gloval_var'\n// import member_compo from './Member'\n\n// 替換參數\nfunction replaceQueryParam (param, newval, search) {\n  var regex = new RegExp('([?;&])' + param + '[^&;]*[;&]?')\n  var query = search.replace(regex, '$1').replace(/&$/, '')\n\n  return (query.length > 2 ? query + '&' : '?') + (newval ? param + '=' + newval : '')\n}\n\nexport default {\n  name: 'Room',\n  data: function () {\n    return {\n      rooms: global.ROOMS,\n      title: global.CHATROOM,\n      seen_leave: true,\n      seen_del: true,\n      is_private: ''\n    }\n  },\n  created() {\n    //判斷是否為大廳和私聊\n    if (global.PRIVATION == \"true\" || global.CHATROOM == \"main\") {\n        if (global.PRIVATION == \"true\") {\n            // 調整標題\n            this.is_private = \"<p style='font-size:12pt; color:#00798F'>私聊</p>\"\n            this.title = this.title.replace(global.USER, '').replace('-', '')\n\n            // 直接顯示所有使用者而非在線列表\n            // member_compo.$data.seen = false\n\n            // 取出收話人\n            let members = global.CHATROOM.split(\"-\")\n            if (members[0] == global.USER) {\n                global.RECIPIENT = members[1]\n            }\n            else {\n                global.RECIPIENT = members[0]\n            }\n        }\n        // 隱藏刪除與離開按鈕\n        this.seen_leave = false\n        this.seen_del = false\n    }\n  },\n  methods: {\n    goToRoom (room_id) {\n      let search = replaceQueryParam('private', 'false', location.search)\n      window.location.href = global.HOST + '/chat/' + room_id + search\n    },\n    inRoom(room){\n      return (room === global.CHATROOM) ? inRoomSymb : ''\n    },\n    DeleteRoom: function () {\n      swalDelRoom(this.title)\n    },\n    LeaveRoom: function () {\n      leaveRoom(this.title)\n    },\n    NewRoom: function () {\n      Vue.swal({\n        title: '建立/前往 聊天室',\n        text: '聊天室id:',\n        input: 'text',\n      }).then(function (inputValue) {\n        if (inputValue === null) return false\n        if (inputValue === '') {\n          Vue.swal('哎呦……', '請輸入聊天室id', 'error')\n          return false\n        }\n        if (inputValue.length > 30) {\n          Vue.swal('太…長……啦', '聊天室id為30字元內', 'warning')\n          return false\n        }\n\n        Vue.axios({\n          method: 'post',\n          url: global.API + '/normalroom',\n          data: {\n            'user': global.USER,\n            'roomName': inputValue.value,\n            'with': ''\n          }\n        }).then((res) => {\n            window.location.href = res.request.responseURL\n        })\n      })\n    }\n  },\n  mounted () {\n    this.axios\n      .get(global.API + '/roomlist' + location.search)\n      .then(function (e) {\n        let list = e.data.rooms.split(',')\n        for (let i = 0; i < list.length; i++) {\n          let tmp = { 'id': i, 'room_id': list[i], 'len': 0 }\n          global.ROOMS.push(tmp)\n        }\n      })\n  }\n}\n\nvar inRoomSymb = `<i class=\"fas fa-fish\" style=\"margin-right:0.5em;color:#00798F\"></i>`\n// 刪除房間中介點\nfunction swalDelRoom (room_id) {\n  Vue.swal({\n    title: '刪除該聊天室？',\n    text: '該聊天室資料與聊天記錄會全部消失',\n    showCancelButton : true,\n    confirmButtonText: '確定',\n    cancelButtonText: '取消'\n  }).then((result) => {\n    if (result.isConfirmed) {\n      delRoom(room_id)\n    }\n  })\n}\n\n// 刪除房間（資料庫）\nfunction delRoom (id) {\n  Vue.axios.get(global.API + '/delete/'+ id + '?user=' + global.USER)\n  .then((res) => {\n    Vue.swal('成功刪除', id + '聊天室含淚跟你說再見', 'success')\n    setTimeout(() => { window.location = res.request.responseURL }, 1500)\n  }).catch((err) => {\n    Vue.swal(err + '出錯了！刪除失敗！', id + '聊天室陰魂不散～', 'error')\n  })\n}\n\n// 離開房間（刪除房間與自己的關聯＿資料庫）\nfunction leaveRoom (id) {\n  Vue.axios({\n    method: 'get',\n    url: global.API + '/leave/' + id + '?user=' + global.USER\n  }).then((res) => {\n    Vue.swal('您已退出聊天室', id + '裡的朋友們會想念你的', 'success')\n    setTimeout(() => { window.location.href = res.request.responseURL }, 1500)\n  }).catch(() => {\n    Vue.swal('出錯了！', id + '聊天室不想與你分開～', 'error')\n  })\n}\n\n</script>\n"],"sourceRoot":"src/components/chat_componenet"}]}